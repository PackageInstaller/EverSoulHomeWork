# EverSoul ä½œä¸šç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªç”¨äºç®¡ç† EverSoul æ¸¸æˆæ”»ç•¥ä½œä¸šçš„ Web åº”ç”¨ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“ **ä½œä¸šç®¡ç†** - ä¸Šä¼ ã€å®¡æ ¸ã€æŸ¥çœ‹å…³å¡ä½œä¸š
- ğŸ’ **ç§¯åˆ†ç³»ç»Ÿ** - ä½œä¸šç§¯åˆ†æ’è¡Œæ¦œï¼Œæ¯æœˆç»“ç®—
- ğŸ¯ **å…³å¡è¯¦æƒ…** - è¯¦ç»†çš„å…³å¡ä¿¡æ¯ã€æ‰è½ç‰©ã€é˜µå®¹æ¨è
- ğŸ” **ç®¡ç†åå°** - ä½œä¸šå®¡æ ¸ã€æ‰¹é‡æ“ä½œã€ç§¯åˆ†ç»“ç®—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### é…ç½®æ•°æ®åº“

```bash
npx prisma generate
npx prisma db push
```

### è¿è¡Œå¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000)

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
npm start
```

## ğŸ“¦ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 14
- **æ•°æ®åº“**: Prisma + SQLite
- **æ ·å¼**: Tailwind CSS
- **å›¾è¡¨**: Recharts
- **æ•°æ®æº**: GitHub (CDNåŠ é€Ÿ)

## ğŸ¯ ç¼“å­˜æœºåˆ¶

ä½¿ç”¨**çº¯å†…å­˜ç¼“å­˜**ï¼Œé…åˆCDNåŠ é€Ÿï¼š
- ä» CDN ä¸‹è½½æ¸¸æˆæ•°æ®
- ç¼“å­˜åœ¨å†…å­˜ä¸­
- é‡å¯åè‡ªåŠ¨é‡æ–°åŠ è½½

è¯¦è§ï¼š
- ğŸ“„ [RESTORE_OLD_CACHE.md](./RESTORE_OLD_CACHE.md) - ç¼“å­˜æœºåˆ¶è¯´æ˜
- ğŸ“„ [CLEANUP_GUIDE.md](./CLEANUP_GUIDE.md) - é¡¹ç›®æ¸…ç†ä¼˜åŒ–æŒ‡å—

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ app/              # Next.js é¡µé¢å’Œè·¯ç”±
â”‚   â”œâ”€â”€ api/          # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ admin/    # ç®¡ç†APIï¼ˆè®¤è¯ã€ä½œä¸šç®¡ç†ã€è¿ç§»ï¼‰
â”‚   â”‚   â”œâ”€â”€ homework/ # ä½œä¸šAPIï¼ˆæŸ¥è¯¢ã€ä¸Šä¼ ï¼‰
â”‚   â”‚   â””â”€â”€ points/   # ç§¯åˆ†APIï¼ˆæ’è¡Œæ¦œã€ç»“ç®—ï¼‰
â”‚   â”œâ”€â”€ admin/        # ç®¡ç†åå°é¡µé¢
â”‚   â”œâ”€â”€ stage/        # å…³å¡é¡µé¢
â”‚   â””â”€â”€ page.tsx      # é¦–é¡µ
â”œâ”€â”€ components/       # React ç»„ä»¶ï¼ˆ10ä¸ªï¼‰
â”œâ”€â”€ lib/              # å·¥å…·åº“ï¼ˆè¿ç§»ã€ç§¯åˆ†ã€è‡ªåŠ¨ç»“ç®—ï¼‰
â”œâ”€â”€ types/            # TypeScript ç±»å‹å®šä¹‰
â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
    â”œâ”€â”€ dataUtils.ts      # æ•°æ®è·å–å’Œå†…å­˜ç¼“å­˜
    â””â”€â”€ backgroundUtils.ts # èƒŒæ™¯å·¥å…·

prisma/
â””â”€â”€ schema.prisma     # æ•°æ®åº“Schemaï¼ˆ7ä¸ªè¡¨ï¼‰

scripts/
â”œâ”€â”€ check-db.js               # æ•°æ®åº“æ£€æŸ¥
â”œâ”€â”€ cleanup-old-tables.js     # æ¸…ç†æ—§è¡¨
â”œâ”€â”€ post-deploy.js            # éƒ¨ç½²è„šæœ¬
â””â”€â”€ vacuum-db.js              # æ•°æ®åº“ä¼˜åŒ–
```

## ğŸ”§ ç®¡ç†å‘˜å¯†ç 

ç¼–è¾‘ `src/config/admin-password.ts` è®¾ç½®ç®¡ç†å‘˜å¯†ç ã€‚

## ğŸ“Š ç§¯åˆ†ç³»ç»Ÿ

- å•é˜Ÿå›¾ï¼š0.1 åˆ†
- åŒé˜Ÿå›¾ï¼š0.5 åˆ†
- ä¸‰é˜Ÿå›¾ï¼š1 åˆ†
- æœ‰ä½œä¸šçš„å›¾æŒ‰å‡åŠè®¡ç®—
- æ¯æœˆè‡ªåŠ¨ç»“ç®—

## ğŸŒ éƒ¨ç½²

### ä½¿ç”¨ PM2

```bash
npm run build
pm2 start npm --name "eversoul" -- start
```

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
DATABASE_URL="file:./prisma/dev.db"
```

## ğŸ“ License

MIT
